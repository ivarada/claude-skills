# Citation Format Guide

This guide explains the citation formats generated by the OpenLibrary lookup skill.

## APA 7th Edition Format

### Basic Book Format

```
Author, A. A. (Year). Title of book: Subtitle. Publisher.
```

### Examples

**Single author:**
```
Dahl, R. (2016). Fantastic Mr Fox. Puffin.
```

**Two authors:**
```
Smith, J., & Jones, M. (2020). Research methods in psychology. Academic Press.
```

**Three or more authors (up to 20):**
```
Brown, A., Davis, B., Wilson, C., & Taylor, D. (2019). Collaborative writing. Oxford University Press.
```

**More than 20 authors:**
```
Smith, J., Brown, A., Wilson, C., ... Lee, K. (2021). Large collaboration study. Science Publishers.
```

**No date:**
```
Author, A. A. (n.d.). Title of work. Publisher.
```

### Key APA 7 Rules

1. **Author names**: Last name, First initial. Middle initial.
2. **Multiple authors**: Use commas between authors, ampersand (&) before last author
3. **Title**: Sentence case (only first word and proper nouns capitalized)
4. **Subtitle**: Separated by colon, also in sentence case
5. **Year**: In parentheses after author(s)
6. **Publisher**: No location needed (changed from APA 6)

## BibTeX Format

### Basic Book Entry

```bibtex
@book{citation_key,
  author = {Last, First and Last, First},
  title = {Book Title: Subtitle},
  publisher = {Publisher Name},
  year = {2020},
  isbn = {978-0-123456-78-9},
  address = {City},
  edition = {2nd},
  pages = {300}
}
```

### Citation Key Format

The script generates citation keys in the format: `firstauthor_year_firstword`

**Examples:**
- `dahl_2016_fantastic` for "Fantastic Mr Fox" by Roald Dahl (2016)
- `tolkien_1954_lord` for "The Lord of the Rings" by J.R.R. Tolkien (1954)
- `unknown_nd_book` for books with missing information

### BibTeX Fields

**Required fields:**
- `author`: Author name(s) in "Last, First" format
- `title`: Complete book title
- `publisher`: Publisher name
- `year`: Publication year

**Optional fields:**
- `isbn`: ISBN-10 or ISBN-13
- `address`: City of publication
- `edition`: Edition number or name
- `pages`: Total page count
- `url`: Link to OpenLibrary page

### Special Characters in BibTeX

The script automatically escapes special LaTeX/BibTeX characters:

| Character | Escaped As |
|-----------|------------|
| & | \\& |
| % | \\% |
| $ | \\$ |
| # | \\# |
| _ | \\_ |
| { | \\{ |
| } | \\} |

## Using Citations

### For APA7 Citations

1. Copy the formatted citation
2. Paste directly into your reference list
3. Ensure it's in alphabetical order
4. Double-space if required by your style guide

### For BibTeX Citations

1. Save the BibTeX entry to a .bib file
2. Import into Zotero:
   - File → Import → Select .bib file
   - Or drag and drop into Zotero
3. Use in LaTeX:
   ```latex
   \bibliography{your_file}
   \cite{citation_key}
   ```

### Zotero Import

The BibTeX entries are fully compatible with Zotero. You can:
- Import individual entries
- Import multiple entries in one .bib file
- Edit fields after import
- Export to other citation styles

## Verification Checklist

Before using citations, verify:

- ✅ Author names are correctly formatted
- ✅ Publication year is accurate
- ✅ Title capitalization follows style guide
- ✅ Publisher name is complete
- ✅ ISBN is correct (if provided)
- ✅ Special characters are properly handled

## Common Issues

**Missing information:**
If OpenLibrary doesn't have complete data, the script will use:
- "Unknown Author" for missing authors
- "n.d." (no date) for missing years
- "Unknown Publisher" for missing publishers

**Multiple editions:**
Make sure you're citing the correct edition. The ISBN lookup will return the specific edition associated with that ISBN.

**Author name variations:**
OpenLibrary may have author names in different formats. The scripts attempt to standardize them, but verify accuracy.
